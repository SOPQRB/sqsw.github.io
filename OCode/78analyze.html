<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>让我看看!</title>
  <style>
    @font-face {
      font-family: InterVar;
      src: local('Segoe UI'), local('PingFang SC'), local('Microsoft Yahei');
    }

    :root {
      --bg-start: #e9f6fb;
      --bg-end: #dff1f9;
      --card-start: rgba(255, 255, 255, 0.85);
      --card-end: rgba(240, 250, 255, 0.7);
      --accent-start: #5b8fc6;
      --accent-mid: #4d7fb7;
      --accent-end: #3f6ea8;
      --muted: #7b9fb6;
      --shadow: 0 18px 30px rgba(39, 86, 136, 0.15);
      --glass-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6), 0 8px 20px rgba(16, 49, 80, 0.06);
    }

    * {
      box-sizing: border-box
    }

    .titletext {
      padding-top: 5px;
      text-align: left;
      font-size: 16px;
      line-height: 30px;
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      font-family: InterVar, system-ui, -apple-system, "PingFang SC", "Microsoft Yahei", "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 30px;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      color: #22506e;
    }

    .wrap {
      width: 420px;
      max-width: 95vw;
      background: linear-gradient(180deg, var(--card-start) 0%, var(--card-end) 100%);
      border-radius: 22px;
      padding: 28px 26px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(6px);
      
    }

    .headline {
      text-align: center;
      padding-top: 6px
    }

    .title {
      font-size: 44px;
      color: rgba(20, 63, 95, 0.95);
      font-weight: 800;
      letter-spacing: 1px;
      margin: 6px 0
    }

    .subtitle {
      font-size: 18px;
      color: var(--muted);
      margin-bottom: 18px
    }

    .section {
      margin: 18px 0;
      padding: 14px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.65) 0%, rgba(250, 255, 255, 0.6) 50%, rgba(245, 255, 255, 0.55) 100%);
      border-radius: 14px;
      box-shadow: var(--glass-shadow)
    }

    .label {
      color: #5a7f9a;
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: 600;
      letter-spacing: 0.3px;
    }

    .input {
      width: 100%;
      padding: 14px 16px;
      border-radius: 12px;
      border: 2px solid rgba(91, 143, 198, 0.2);
      outline: none;
      font-size: 18px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 253, 255, 0.92) 50%, rgba(242, 250, 255, 0.9) 100%);
      box-shadow: inset 0 2px 4px rgba(91, 143, 198, 0.08), 0 4px 12px rgba(91, 143, 198, 0.06);
      color: #1a4a6b;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .input::placeholder {
      color: #9bb5c9;
      font-weight: 400;
    }

    .input:hover {
      border-color: rgba(91, 143, 198, 0.35);
      box-shadow: inset 0 2px 4px rgba(91, 143, 198, 0.1), 0 6px 16px rgba(91, 143, 198, 0.1);
    }

    .input:focus {
      background: linear-gradient(180deg, rgba(255, 255, 255, 1) 0%, rgba(252, 254, 255, 0.98) 50%, rgba(248, 253, 255, 0.95) 100%);
      border-color: rgba(91, 143, 198, 0.5);
      box-shadow: inset 0 2px 4px rgba(91, 143, 198, 0.12), 0 8px 20px rgba(91, 143, 198, 0.15), 0 0 0 3px rgba(91, 143, 198, 0.1);
    }

    .btn-wrap {
      display: flex;
      justify-content: center;
      margin-top: 18px
    }

    .btn {
      width: 100%;
      max-width: 360px;
      padding: 18px;
      border-radius: 14px;
      border: none;
      font-weight: 800;
      font-size: 22px;
      color: #fff;
      cursor: pointer;
      background: linear-gradient(135deg, var(--accent-start) 0%, var(--accent-mid) 50%, var(--accent-end) 100%);
      box-shadow: 0 12px 22px rgba(24, 63, 104, 0.18);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .btn:hover {
      background: linear-gradient(135deg, #6a9dd4 0%, #5a8ec4 50%, #4a7eb4 100%);
      box-shadow: 0 14px 26px rgba(24, 63, 104, 0.25);
      transform: translateY(-2px);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 8px 16px rgba(24, 63, 104, 0.2);
    }

    .btn:after {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 50%, rgba(0, 0, 0, 0.03) 100%);
      pointer-events: none;
    }

    .result-card {
      margin-top: 20px;
      padding: 22px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(250, 255, 255, 0.75) 50%, rgba(245, 255, 255, 0.7) 100%);
      display: none;
      opacity: 0;
      animation: fadeIn 0.2s ease forwards;
    }

    .result-card.show {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result-title {
      font-size: 28px;
      color: rgba(48, 87, 119, 0.95);
      text-align: center;
      margin-bottom: 8px;
      font-weight: 700
    }

    .result-big {
      font-size: 72px;
      text-align: center;
      margin: 20px 0;
      color: #2f6ea0;
      font-weight: 900
    }

    .progress-wrap {
      padding: 18px 8px
    }

    .bar {
      height: 18px;
      border-radius: 12px;
      background: linear-gradient(90deg, rgba(91, 143, 198, 0.18) 0%, rgba(77, 127, 183, 0.18) 50%, rgba(63, 110, 168, 0.18) 100%);
      position: relative;
      overflow: hidden;
      margin-bottom: 8px
    }

    .bar>.fill {
      height: 100%;
      width: 0%;
      border-radius: 12px;
      background: linear-gradient(90deg, var(--accent-start) 0%, var(--accent-mid) 50%, var(--accent-end) 100%);
      box-shadow: 0 6px 18px rgba(44, 84, 129, 0.15);
      transition: width 0.5s ease;
      min-width: 3%;
    }

    .ticks {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--muted);
      padding: 6px 4px
    }

    .soft-box {
      height: 110px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 253, 255, 0.85) 50%, rgba(240, 248, 255, 0.8) 100%);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
      margin-top: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .description-text {
      font-size: 16px;
      color: #2f6ea0;
      text-align: center;
      line-height: 1.6;
      font-weight: 500;
    }

    @media (max-width:420px) {
      .title {
        font-size: 38px
      }

      .result-big {
        font-size: 56px
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="headline">
      <div class="title">78长度查询器</div>
      <div class="subtitle">让91大王来看看你的78</div>
      <div class="subtitle">1.0.23已在25-10-16更新!</div>
    </div>

    <div class="section">
      <div class="label">请输入您的名字：</div>
      <input class="input" placeholder="输入你的名字..." id="txt" />

      <div class="btn-wrap">
        <button class="btn" id="go">分析78长度</button><br>
      </div>
      <div class="headline">
        <a href=analyze_ur_78_EN.html>English</a>
    </div>

    <div class="result-card" id="resultCard">
      <div style="text-align:center">
        <div class="result-title">分析结果</div>
        <div style="font-size:20px;color:#0f2640;font-weight:700;margin-bottom:12px;text-align:center">名字：<span
            id="userName"></span></div>
        <div class="result-big" id="result">让我看看<span style="font-size:36px;margin-left:8px;color:#4d7fb7">cm</span>
        </div>
      </div>

      <div class="progress-wrap">
        <div class="bar">
          <div class="fill" id="fill"></div>
        </div>
        <div class="ticks">
          <div>5-9</div>
          <div>10-14</div>
          <div>15-19</div>
          <div>20-24</div>
          <div>25-30</div>
        </div>

        <div class="soft-box">
          <div class="description-text" id="description">
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const descriptions = {
      '5-9': '嘲笑：哈哈哈，杂鱼 就这？',
      '10-14': '嘲笑：不是，你还没吃药？',
      '15-19': '不屑：还没假的长...',
      '20-24': '夸赞：不错，有我一半长度了',
      '25-30': '震惊：你考虑捐献自己的子孙吗？人类优质基因库需要你'
    };

    const specialRules = [
      {
        // 精确匹配
        match: (input) => input === '烈焰棒',
        result: {
          value: 91,
          description: '暗广'
        }
      },
      {
        // 精确匹配
        match: (input) => input === 'LIEYANBANG',
        result: {
          value: 91,
          description: '暗广'
        }
      },
      {
        // 精确匹配
        match: (input) => input.includes('Sensei'),
        result: {
          value: 0.1,
          description: '杂鱼'
        }
      },
      {
        // 精确匹配
        match: (input) => input === '我',
        result: {
          value: 0,
          description: '你？你是谁？'
        }
      },
      {
        // 精确匹配
        match: (input) => input === '78',
        result: {
          value: 78,
          description: '78'
        }
      },
      {
        // 精确匹配
        match: (input) => input === '91',
        result: {
          value: 91,
          description: '91'
        }
      },
      {
        // 精确匹配
        match: (input) => input === '13',
        result: {
          value: -13,
          description: '13'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('lyb'),
        result: {
          value: 91,
          description: '暗广'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('114514'),
        result: {
          value: 1919810,
          description: '仲夏夜之homo'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('xiaqiu'),
        result: {
          value: -5,
          description: '很合理'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('moc'),
        result: {
          value: 1,
          description: '废物'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('fsu'),
        result: {
          value: 0.0001,
          description: '杂鱼'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('Fsu'),
        result: {
          value: 0.0001,
          description: '杂鱼'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('lingfeng'),
        result: {
          value: 0.0001,
          description: '杂鱼'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('黄铭哲'),
        result: {
          value: 0,
          description: '谁家大美女出来了？'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('翎枫'),
        result: {
          value: 0.0001,
          description: '杂鱼'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('刘语秋'),
        result: {
          value: -5,
          description: '很合理'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('夏秋'),
        result: {
          value: -5,
          description: '很合理'
        }
      },
      {
        // 包含匹配
        match: (input) => input.includes('虾球'),
        result: {
          value: -5,
          description: '很合理'
        }
      },
      {
        // 正则匹配
        match: (input) => /^(lieyanbang|烈焰棒)$/i.test(input),
        result: {
          value: 91,
          description: '暗广'
        }
      },
      {
        // 正则匹配
        match: (input) => /^(Moc|moc)$/i.test(input),
        result: {
          value: 1,
          description: '废物'
        }
      },
      {
        // 正则匹配
        match: (input) => /^(HMZ|hmz)$/i.test(input),
        result: {
          value: 0,
          description: '谁家大美女出来了？'
        }
      },
      {
        // 正则匹配
        match: (input) => /^(FOTOP|佛头爆)$/i.test(input),
        result: {
          value: 0.0001,
          description: '废物'
        }
      },
    ];

    function checkSpecialRules(input) {
      const normalizedInput = normalizeText(input);

      for (const rule of specialRules) {
        if (rule.match(normalizedInput)) {
          return rule.result;
        }
      }

      return null;
    }

    function getDescription(value) {
      if (value >= 5 && value <= 9) return descriptions['5-9'];
      if (value >= 10 && value <= 14) return descriptions['10-14'];
      if (value >= 15 && value <= 19) return descriptions['15-19'];
      if (value >= 20 && value <= 24) return descriptions['20-24'];
      if (value >= 25 && value <= 30) return descriptions['25-30'];
      return '这是无法触及的长度吗。。。';
    }

    function normalizeText(s) {
      if (typeof s !== 'string') s = String(s);
      return s.replace(/\r\n/g, "\n").replace(/\r/g, "\n").trim();
    }

    function fnv1a32(str) {
      var h = 0x811c9dc5;
      for (var i = 0; i < str.length; i++) {
        h ^= str.charCodeAt(i);
        h = (h >>> 0) * 0x01000193;
        h = h >>> 0;
      }
      return h >>> 0;
    }

    function mapToRange(hash) {
      var min = 5;
      var max = 30;
      var size = max - min + 1;
      return (hash % size) + min;
    }

    function shiftUtf16Unit(s) {
      var codes = [];
      if (s.length === 0) {
        codes.push(1);
      } else {
        codes.push((s.charCodeAt(0) + 1) & 0xFFFF);
        for (var i = 1; i < s.length; i++) {
          codes.push(s.charCodeAt(i));
        }
      }
      var parts = [];
      for (var j = 0; j < codes.length; j++) parts.push(String.fromCharCode(codes[j]));
      return parts.join('');
    }

    function textToNumber(text) {
      var norm = normalizeText(text);
      var h = fnv1a32(norm);
      var val = mapToRange(h);

      if (val === 5) {
        var shifted = shiftUtf16Unit(norm);
        var h2 = fnv1a32(shifted);
        var val2 = mapToRange(h2);
        return val2 === 5 ? 5 : val2;
      }

      return val;
    }

    function analyzeText() {
      const inputText = document.getElementById('txt').value;
      const resultCard = document.querySelector('.result-card');
      const fill = document.getElementById('fill');
      const resultText = document.getElementById('result');
      const userName = document.getElementById('userName');
      const descriptionElement = document.getElementById('description');

      if (!inputText.trim()) {
        alert('请输入文本。。。');
        return;
      }

      userName.textContent = inputText;

      const specialResult = checkSpecialRules(inputText);

      let uniqueNumber;
      let description;

      if (specialResult) {
        uniqueNumber = specialResult.value;
        description = specialResult.description;
      } else {
        uniqueNumber = textToNumber(inputText);
        description = getDescription(uniqueNumber);
      }

      let targetPercentage = ((uniqueNumber - 5) / (30 - 5)) * 100;
      targetPercentage = Math.max(targetPercentage, 3);

      descriptionElement.textContent = description;

      if (!resultCard.classList.contains('show')) {
        resultCard.classList.add('show');

        fill.style.width = '0%';

        setTimeout(function () {
          fill.style.width = targetPercentage + '%';
          resultText.innerHTML = uniqueNumber + '<span style="font-size:36px;margin-left:8px;color:#4d7fb7">cm</span>';
        }, 200);
      } else {
        fill.style.width = targetPercentage + '%';
        resultText.innerHTML = uniqueNumber + '<span style="font-size:36px;margin-left:8px;color:#4d7fb7">cm</span>';
      }
    }

    document.getElementById('go').addEventListener('click', analyzeText);

    document.getElementById('txt').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        analyzeText();
      }
    });
  </script>
</body>

</html>
